-- Your SQL goes here
CREATE TABLE stock_health_eval (
    id SERIAL PRIMARY KEY,
    exchange VARCHAR(9) NOT NULL,
    ticker VARCHAR(6) NOT NULL,
    currency VARCHAR(3) NOT NULL,
    favorite BOOLEAN NOT NULL,
    industry VARCHAR(50) NOT NULL,
    next_earnings_date DATE,
    latest_price DOUBLE PRECISION, 
    positive_operating_cash_flow BOOLEAN,
    operating_cash_flow_health BOOLEAN,
    improving_gross_margin BOOLEAN, 
    low_customer_acquisition BOOLEAN,
    improving_customer_acquisition BOOLEAN,
    low_innovation BOOLEAN,
    improving_innovation BOOLEAN,
    low_interest_burden BOOLEAN,
    healthy_net_cash BOOLEAN,
    positive_retained_earnings BOOLEAN,
    improving_retained_earnings BOOLEAN,
    no_share_dilution BOOLEAN,
    improving_share_dilution BOOLEAN,
    latest_revenue DOUBLE PRECISION,
    revenue_next_year DOUBLE PRECISION,
    revenue_growth_1y DOUBLE PRECISION,
    revenue_growth_multi_year DOUBLE PRECISION,
    revenue_growth_next_year DOUBLE PRECISION,
    gross_profit_growth_1y DOUBLE PRECISION,
    gross_profit_growth_multi_year DOUBLE PRECISION,
    latest_gross_margin DOUBLE PRECISION,
    latest_operating_margin DOUBLE PRECISION,
    latest_net_margin DOUBLE PRECISION,
    latest_eps DOUBLE PRECISION,
    latest_operating_cash_flow DOUBLE PRECISION,
    latest_free_cash_flow DOUBLE PRECISION,
    theoretical_net_margin DOUBLE PRECISION,
    theoretical_net_income DOUBLE PRECISION,
    theoretical_net_income_next_year DOUBLE PRECISION,
    optimized_net_margin BOOLEAN,
    price_current_revenue_growth DOUBLE PRECISION,
    price_current_gp_growth DOUBLE PRECISION,
    price_next_year_revenue_growth DOUBLE PRECISION,
    price_multi_year_revenue_growth DOUBLE PRECISION,
    price_multi_year_gp_growth DOUBLE PRECISION,
    last_updated DATE
);

CREATE UNIQUE INDEX same_ticker ON stock_health_eval (exchange, ticker);